{"ast":null,"code":"import _classCallCheck from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from \"axios\";\nimport StorageService from \"../services/StorageService\";\n\nvar Api =\n/*#__PURE__*/\nfunction () {\n  function Api() {\n    _classCallCheck(this, Api);\n  }\n\n  _createClass(Api, null, [{\n    key: \"putFormData\",\n    value: function putFormData(path, data) {\n      var config = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data;boundary=gc0p4Jq0M2Yt08jU534c0p\",\n          Authorization: \"Bearer \".concat(StorageService.getToken())\n        },\n        timeout: 10000\n      };\n      return axios.put(\"\".concat(path), data, config).then(function (res) {\n        return res.data;\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(path) {\n      var token = localStorage.getItem(\"authToken\");\n      var config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-access-token\": token\n        },\n        timeout: 10000\n      };\n      return axios.get(\"\".concat(path), config).then(function (res) {\n        if (res.data) return res.data;\n        return res;\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n  }, {\n    key: \"postToken\",\n    value: function postToken(path, data, config) {\n      return axios.post(\"\".concat(path), data, config).then(function (res) {\n        return res.data;\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n  }, {\n    key: \"getLocationTest\",\n    value: function getLocationTest(path) {// const token = localStorage.getItem(\"authToken\");\n      // const config = {\n      //     headers: {\n      //         \"Content-Type\": \"text/javascript; charset=utf-8\",\n      //         \"content-encoding\": \"gzip\"\n      //     },\n      //     params: {\n      //         searchtext: \"182 Le Dai Hanh, q11, tp HCM\",\n      //         app_id: \"devportal-demo-20180625\",\n      //         app_code: \"9v2BkviRwi9Ot26kp2IysQ\",\n      //         gen: 9\n      //     },\n      //     timeout: 10000\n      // };\n      // return axios\n      //     .get(`${path}`, config)\n      //     .then(res => {\n      //         if (res.data) return res.data;\n      //         return res;\n      //     })\n      //     .catch(error => {\n      //         throw error;\n      //     });\n    }\n  }, {\n    key: \"getFreshToken\",\n    value: function getFreshToken(path) {\n      var token = localStorage.getItem(\"refreshToken\");\n      var config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-refresh-token\": token\n        }\n      };\n      return axios.get(\"\".concat(path), config).then(function (res) {\n        if (res.data) return res.data;\n        return res;\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n  }]);\n\n  return Api;\n}();\n\nexport default Api;","map":{"version":3,"sources":["/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/src/api/Api.js"],"names":["axios","StorageService","Api","path","data","config","headers","Authorization","getToken","timeout","put","then","res","catch","error","token","localStorage","getItem","get","post"],"mappings":";;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;;IAEMC,G;;;;;;;;;gCACiBC,I,EAAcC,I,EAAc;AAC3C,UAAMC,MAAM,GAAG;AACXC,QAAAA,OAAO,EAAE;AACL,0BAAgB,qDADX;AAELC,UAAAA,aAAa,mBAAYN,cAAc,CAACO,QAAf,EAAZ;AAFR,SADE;AAKXC,QAAAA,OAAO,EAAE;AALE,OAAf;AAOA,aAAOT,KAAK,CACPU,GADE,WACKP,IADL,GACaC,IADb,EACmBC,MADnB,EAEFM,IAFE,CAEG,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACR,IAAR;AAAA,OAFN,EAGFS,KAHE,CAGI,UAAAC,KAAK,EAAI;AACZ,cAAMA,KAAN;AACH,OALE,CAAP;AAMH;;;wBACUX,I,EAAc;AACrB,UAAMY,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd;AACA,UAAMZ,MAAM,GAAG;AACXC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,4BAAkBS;AAFb,SADE;AAKXN,QAAAA,OAAO,EAAE;AALE,OAAf;AAQA,aAAOT,KAAK,CACPkB,GADE,WACKf,IADL,GACaE,MADb,EAEFM,IAFE,CAEG,UAAAC,GAAG,EAAI;AACT,YAAIA,GAAG,CAACR,IAAR,EAAc,OAAOQ,GAAG,CAACR,IAAX;AACd,eAAOQ,GAAP;AACH,OALE,EAMFC,KANE,CAMI,UAAAC,KAAK,EAAI;AACZ,cAAMA,KAAN;AACH,OARE,CAAP;AASH;;;8BACgBX,I,EAAcC,I,EAAcC,M,EAAgB;AACzD,aAAOL,KAAK,CACPmB,IADE,WACMhB,IADN,GACcC,IADd,EACoBC,MADpB,EAEFM,IAFE,CAEG,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACR,IAAR;AAAA,OAFN,EAGFS,KAHE,CAGI,UAAAC,KAAK,EAAI;AACZ,cAAMA,KAAN;AACH,OALE,CAAP;AAMH;;;oCAEsBX,I,EAAc,CACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;;kCAEoBA,I,EAAc;AAC/B,UAAMY,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAd;AACA,UAAMZ,MAAM,GAAG;AACXC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,6BAAmBS;AAFd;AADE,OAAf;AAOA,aAAOf,KAAK,CACPkB,GADE,WACKf,IADL,GACaE,MADb,EAEFM,IAFE,CAEG,UAAAC,GAAG,EAAI;AACT,YAAIA,GAAG,CAACR,IAAR,EAAc,OAAOQ,GAAG,CAACR,IAAX;AACd,eAAOQ,GAAP;AACH,OALE,EAMFC,KANE,CAMI,UAAAC,KAAK,EAAI;AACZ,cAAMA,KAAN;AACH,OARE,CAAP;AASH;;;;;;AAGL,eAAeZ,GAAf","sourcesContent":["// @flow\nimport axios from \"axios\";\nimport StorageService from \"../services/StorageService\";\n\nclass Api {\n    static putFormData(path: string, data: Object) {\n        const config = {\n            headers: {\n                \"Content-Type\": \"multipart/form-data;boundary=gc0p4Jq0M2Yt08jU534c0p\",\n                Authorization: `Bearer ${StorageService.getToken()}`\n            },\n            timeout: 10000\n        };\n        return axios\n            .put(`${path}`, data, config)\n            .then(res => res.data)\n            .catch(error => {\n                throw error;\n            });\n    }\n    static get(path: string) {\n        const token = localStorage.getItem(\"authToken\");\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-access-token\": token\n            },\n            timeout: 10000\n        };\n\n        return axios\n            .get(`${path}`, config)\n            .then(res => {\n                if (res.data) return res.data;\n                return res;\n            })\n            .catch(error => {\n                throw error;\n            });\n    }\n    static postToken(path: string, data: Object, config: Object) {\n        return axios\n            .post(`${path}`, data, config)\n            .then(res => res.data)\n            .catch(error => {\n                throw error;\n            });\n    }\n\n    static getLocationTest(path: string) {\n        // const token = localStorage.getItem(\"authToken\");\n        // const config = {\n        //     headers: {\n        //         \"Content-Type\": \"text/javascript; charset=utf-8\",\n        //         \"content-encoding\": \"gzip\"\n        //     },\n        //     params: {\n        //         searchtext: \"182 Le Dai Hanh, q11, tp HCM\",\n        //         app_id: \"devportal-demo-20180625\",\n        //         app_code: \"9v2BkviRwi9Ot26kp2IysQ\",\n        //         gen: 9\n        //     },\n        //     timeout: 10000\n        // };\n        // return axios\n        //     .get(`${path}`, config)\n        //     .then(res => {\n        //         if (res.data) return res.data;\n        //         return res;\n        //     })\n        //     .catch(error => {\n        //         throw error;\n        //     });\n    }\n\n    static getFreshToken(path: string) {\n        const token = localStorage.getItem(\"refreshToken\");\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-refresh-token\": token\n            }\n        };\n\n        return axios\n            .get(`${path}`, config)\n            .then(res => {\n                if (res.data) return res.data;\n                return res;\n            })\n            .catch(error => {\n                throw error;\n            });\n    }\n}\n\nexport default Api;\n"]},"metadata":{},"sourceType":"module"}