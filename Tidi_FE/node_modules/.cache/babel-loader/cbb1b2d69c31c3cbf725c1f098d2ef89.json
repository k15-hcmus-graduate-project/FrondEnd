{"ast":null,"code":"'use strict';\n\nvar _inherits = require('babel-runtime/helpers/inherits')['default'];\n\nvar _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];\n\nvar _objectWithoutProperties = require('babel-runtime/helpers/object-without-properties')['default'];\n\nvar _extends = require('babel-runtime/helpers/extends')['default'];\n\nvar _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];\n\nexports.__esModule = true;\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _utilsTransitionEvents = require('./utils/TransitionEvents');\n\nvar _utilsTransitionEvents2 = _interopRequireDefault(_utilsTransitionEvents); // TODO: This should use a timeout instead of TransitionEvents, or else just\n// not wait until transition end to trigger continuing animations.\n\n\nvar propTypes = {\n  direction: _react2['default'].PropTypes.oneOf(['prev', 'next']),\n  onAnimateOutEnd: _react2['default'].PropTypes.func,\n  active: _react2['default'].PropTypes.bool,\n  animateIn: _react2['default'].PropTypes.bool,\n  animateOut: _react2['default'].PropTypes.bool,\n  index: _react2['default'].PropTypes.number\n};\nvar defaultProps = {\n  active: false,\n  animateIn: false,\n  animateOut: false\n};\n\nvar CarouselItem = function (_React$Component) {\n  _inherits(CarouselItem, _React$Component);\n\n  function CarouselItem(props, context) {\n    _classCallCheck(this, CarouselItem);\n\n    _React$Component.call(this, props, context);\n\n    this.handleAnimateOutEnd = this.handleAnimateOutEnd.bind(this);\n    this.state = {\n      direction: null\n    };\n    this.isUnmounted = false;\n  }\n\n  CarouselItem.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (this.props.active !== nextProps.active) {\n      this.setState({\n        direction: null\n      });\n    }\n  };\n\n  CarouselItem.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this = this;\n\n    var active = this.props.active;\n    var prevActive = prevProps.active;\n\n    if (!active && prevActive) {\n      _utilsTransitionEvents2['default'].addEndEventListener(_reactDom2['default'].findDOMNode(this), this.handleAnimateOutEnd);\n    }\n\n    if (active !== prevActive) {\n      setTimeout(function () {\n        return _this.startAnimation();\n      }, 20);\n    }\n  };\n\n  CarouselItem.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.isUnmounted = true;\n  };\n\n  CarouselItem.prototype.handleAnimateOutEnd = function handleAnimateOutEnd() {\n    if (this.isUnmounted) {\n      return;\n    }\n\n    if (this.props.onAnimateOutEnd) {\n      this.props.onAnimateOutEnd(this.props.index);\n    }\n  };\n\n  CarouselItem.prototype.startAnimation = function startAnimation() {\n    if (this.isUnmounted) {\n      return;\n    }\n\n    this.setState({\n      direction: this.props.direction === 'prev' ? 'right' : 'left'\n    });\n  };\n\n  CarouselItem.prototype.render = function render() {\n    var _props = this.props;\n    var direction = _props.direction;\n    var active = _props.active;\n    var animateIn = _props.animateIn;\n    var animateOut = _props.animateOut;\n    var className = _props.className;\n\n    var props = _objectWithoutProperties(_props, ['direction', 'active', 'animateIn', 'animateOut', 'className']);\n\n    delete props.onAnimateOutEnd;\n    delete props.index;\n    var classes = {\n      item: true,\n      active: active && !animateIn || animateOut\n    };\n\n    if (direction && active && animateIn) {\n      classes[direction] = true;\n    }\n\n    if (this.state.direction && (animateIn || animateOut)) {\n      classes[this.state.direction] = true;\n    }\n\n    return _react2['default'].createElement('div', _extends({}, props, {\n      className: _classnames2['default'](className, classes)\n    }));\n  };\n\n  return CarouselItem;\n}(_react2['default'].Component);\n\nCarouselItem.propTypes = propTypes;\nCarouselItem.defaultProps = defaultProps;\nexports['default'] = CarouselItem;\nmodule.exports = exports['default'];","map":null,"metadata":{},"sourceType":"script"}