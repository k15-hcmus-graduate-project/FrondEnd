{"ast":null,"code":"import _classCallCheck from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/src/pages/orders/OrderDetail/OrderDetail.jsx\";\nimport React, { Component } from \"react\";\nimport Moment from \"moment\";\nimport PropTypes from \"prop-types\";\nimport \"./OrderDetail.scss\";\nimport AuthService from \"../../../services/AuthService\";\nimport WebService from \"../../../services/WebService\";\nimport { ACTIVE_TYPE } from \"../../../config/constants\";\nimport { withCommas } from \"../../../helpers/lib\";\n\nvar OrderDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(OrderDetail, _Component);\n\n  function OrderDetail() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, OrderDetail);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(OrderDetail)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.componentWillMount = function () {\n      _this.fetchOrderDetail(_this.props.match.params.id);\n    };\n\n    _this.fetchOrderDetail = function (orderId) {\n      WebService.getOneOrder(AuthService.getTokenUnsafe(), orderId).then(function (res) {\n        var result = JSON.parse(res);\n\n        if (result.status && result.status === ACTIVE_TYPE.TRUE) {\n          _this.props.fetchOrderDetail(result.order);\n        }\n      });\n    };\n\n    _this.render = function () {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"breadcumb_area bg-img\",\n        style: {\n          backgroundImage: \"url(/img/bg-img/breadcumb.jpg)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row h-100 align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-title text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Order Details\")))))), React.createElement(\"section\", {\n        className: \"shop_grid_area section-padding-80\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-11\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"regular-page-content-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"regular-page-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(OrderInfo, {\n        order: _this.props.order,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }))))))));\n    };\n\n    return _this;\n  }\n\n  return OrderDetail;\n}(Component);\n\nOrderDetail.propTypes = {\n  fetchOrderDetail: PropTypes.func,\n  order: PropTypes.object,\n  history: PropTypes.object\n};\n\nvar OrderInfo =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(OrderInfo, _Component2);\n\n  function OrderInfo() {\n    var _getPrototypeOf3;\n\n    var _this2;\n\n    _classCallCheck(this, OrderInfo);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this2 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(OrderInfo)).call.apply(_getPrototypeOf3, [this].concat(args)));\n\n    _this2.generateProductList = function (products) {\n      var totalPrice = 0;\n      var itemElements = products.map(function (product, index) {\n        var price = (product.price - product.price * product.discPercent) * product.amount;\n        totalPrice += price;\n        return React.createElement(\"li\", {\n          key: index,\n          className: \"item-product-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"[\".concat(product.amount, \"] \").concat(product.product_name)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"\".concat(withCommas(Math.round(price)), \" \\u20AB\")));\n      });\n      _this2.total = totalPrice;\n      return itemElements;\n    };\n\n    _this2.render = function () {\n      var order = _this2.props.order;\n      console.log(order);\n      return React.createElement(\"div\", {\n        className: \"col-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"order-details-confirmation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, order.products ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"cart-page-heading d-flex justify-content-between\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"user-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, order.fullName), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"\".concat(order.email, \" - \").concat(order.phone)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"\".concat(order.address))), React.createElement(\"div\", {\n        className: \"order-status-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, order.status)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(OrderHistoryTimeline, {\n        history: order.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(\"ul\", {\n        className: \"order-details-form mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"item-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Product\"), \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Price\")), _this2.generateProductList(order.products), React.createElement(\"li\", {\n        className: \"item-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Coupon used\"), \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, order.coupon_id ? order.coupon_id : \"NONE\")), React.createElement(\"li\", {\n        className: \"total-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Total\"), \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"\".concat(withCommas(Math.round(order.total)), \" \\u20AB\")))), React.createElement(\"div\", {\n        id: \"accordion\",\n        role: \"tablist\",\n        className: \"mb-4 form-control shipping-method-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn essence-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Export Bill\")) : React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Order not found\")));\n    };\n\n    return _this2;\n  }\n\n  return OrderInfo;\n}(Component);\n\nvar OrderHistoryTimeline =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(OrderHistoryTimeline, _Component3);\n\n  function OrderHistoryTimeline() {\n    var _getPrototypeOf4;\n\n    var _this3;\n\n    _classCallCheck(this, OrderHistoryTimeline);\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this3 = _possibleConstructorReturn(this, (_getPrototypeOf4 = _getPrototypeOf(OrderHistoryTimeline)).call.apply(_getPrototypeOf4, [this].concat(args)));\n\n    _this3.generateDiplome = function () {\n      var history = _this3.props.history;\n      return history.map(function (item, index) {\n        var timestamp = Moment(item.date_time).format(\"D/M/YY\").toString();\n        return React.createElement(\"li\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"diplome\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, item.status), React.createElement(\"span\", {\n          className: \"point\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"diplome-date text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, timestamp));\n      });\n    };\n\n    _this3.render = function () {\n      return React.createElement(\"div\", {\n        className: \"timeline-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"ol\", {\n        className: \"timeline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, _this3.generateDiplome()));\n    };\n\n    return _this3;\n  }\n\n  return OrderHistoryTimeline;\n}(Component);\n\nexport default OrderDetail;","map":{"version":3,"sources":["/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/src/pages/orders/OrderDetail/OrderDetail.jsx"],"names":["React","Component","Moment","PropTypes","AuthService","WebService","ACTIVE_TYPE","withCommas","OrderDetail","componentWillMount","fetchOrderDetail","props","match","params","id","orderId","getOneOrder","getTokenUnsafe","then","res","result","JSON","parse","status","TRUE","order","render","backgroundImage","propTypes","func","object","history","OrderInfo","generateProductList","products","totalPrice","itemElements","map","product","index","price","discPercent","amount","product_name","Math","round","total","console","log","fullName","email","phone","address","coupon_id","OrderHistoryTimeline","generateDiplome","item","timestamp","date_time","format","toString"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Moment from \"moment\";\nimport PropTypes from \"prop-types\";\nimport \"./OrderDetail.scss\";\nimport AuthService from \"../../../services/AuthService\";\nimport WebService from \"../../../services/WebService\";\nimport { ACTIVE_TYPE } from \"../../../config/constants\";\nimport { withCommas } from \"../../../helpers/lib\";\n\nclass OrderDetail extends Component {\n    static propTypes = {\n        fetchOrderDetail: PropTypes.func,\n        order: PropTypes.object,\n        history: PropTypes.object\n    };\n\n    componentWillMount = () => {\n        this.fetchOrderDetail(this.props.match.params.id);\n    };\n\n    fetchOrderDetail = orderId => {\n        WebService.getOneOrder(AuthService.getTokenUnsafe(), orderId).then(res => {\n            const result = JSON.parse(res);\n            if (result.status && result.status === ACTIVE_TYPE.TRUE) {\n                this.props.fetchOrderDetail(result.order);\n            }\n        });\n    };\n\n    render = () => {\n        return (\n            <div>\n                <div className=\"breadcumb_area bg-img\" style={{ backgroundImage: \"url(/img/bg-img/breadcumb.jpg)\" }}>\n                    <div className=\"container h-100\">\n                        <div className=\"row h-100 align-items-center\">\n                            <div className=\"col-12\">\n                                <div className=\"page-title text-center\">\n                                    <h2>Order Details</h2>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* <!-- ##### Breadcumb Area End ##### --> */}\n\n                {/* <!-- ##### OrderDetail Grid Area Start ##### --> */}\n                <section className=\"shop_grid_area section-padding-80\">\n                    <div className=\"container\">\n                        <div className=\"row justify-content-center\">\n                            <div className=\"col-11\">\n                                <div className=\"regular-page-content-wrapper\">\n                                    <div className=\"regular-page-text\">\n                                        <OrderInfo order={this.props.order} />\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/* <!-- ##### OrderDetail Grid Area End ##### --> */}\n            </div>\n        );\n    };\n}\n\nclass OrderInfo extends Component {\n    generateProductList = products => {\n        let totalPrice = 0;\n        let itemElements = products.map((product, index) => {\n            let price = (product.price - product.price * product.discPercent) * product.amount;\n            totalPrice += price;\n            return (\n                <li key={index} className=\"item-product-name\">\n                    <span>{`[${product.amount}] ${product.product_name}`}</span>\n                    <span>{`${withCommas(Math.round(price))} ₫`}</span>\n                </li>\n            );\n        });\n        this.total = totalPrice;\n        return itemElements;\n    };\n\n    render = () => {\n        const { order } = this.props;\n        console.log(order);\n        return (\n            <div className=\"col-12\">\n                <div className=\"order-details-confirmation\">\n                    {order.products ? (\n                        <>\n                            <div className=\"cart-page-heading d-flex justify-content-between\">\n                                <div className=\"user-info\">\n                                    <h5>{order.fullName}</h5>\n                                    <p>{`${order.email} - ${order.phone}`}</p>\n                                    <p>{`${order.address}`}</p>\n                                </div>\n                                <div className=\"order-status-container\">{order.status}</div>\n                            </div>\n                            <div>\n                                <OrderHistoryTimeline history={order.history} />\n                            </div>\n                            <ul className=\"order-details-form mb-4\">\n                                <li className=\"item-header\">\n                                    <span>Product</span> <span>Price</span>\n                                </li>\n                                {this.generateProductList(order.products)}\n                                {/* <li className=\"item-header\"><span>Shipping</span> <span>{`FREE`}</span></li> */}\n                                <li className=\"item-header\">\n                                    <span>Coupon used</span> <span>{order.coupon_id ? order.coupon_id : \"NONE\"}</span>\n                                </li>\n\n                                <li className=\"total-header\">\n                                    <span>Total</span> <span>{`${withCommas(Math.round(order.total))} ₫`}</span>\n                                </li>\n                            </ul>\n\n                            <div id=\"accordion\" role=\"tablist\" className={\"mb-4 form-control shipping-method-container\"} />\n                            <button className=\"btn essence-btn\">Export Bill</button>\n                        </>\n                    ) : (\n                        <div className=\"text-center\">Order not found</div>\n                    )}\n                </div>\n            </div>\n        );\n    };\n}\n\nclass OrderHistoryTimeline extends Component {\n    generateDiplome = () => {\n        const { history } = this.props;\n        return history.map((item, index) => {\n            let timestamp = Moment(item.date_time)\n                .format(\"D/M/YY\")\n                .toString();\n            return (\n                <li key={index}>\n                    <p className=\"diplome\">{item.status}</p>\n                    <span className=\"point\" />\n                    <div className=\"diplome-date text-center\">{timestamp}</div>\n                </li>\n            );\n        });\n    };\n\n    render = () => {\n        return (\n            <div className=\"timeline-container\">\n                <ol className=\"timeline\">{this.generateDiplome()}</ol>\n            </div>\n        );\n    };\n}\n\nexport default OrderDetail;\n"]},"metadata":{},"sourceType":"module"}