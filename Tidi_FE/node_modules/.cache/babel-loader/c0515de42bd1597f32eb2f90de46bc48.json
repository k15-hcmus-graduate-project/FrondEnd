{"ast":null,"code":"import _classCallCheck from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/src/pages/common/Auth/ResetPassword.jsx\";\n// External Dependencies\nimport React from 'react';\nimport { Link } from 'react-router-dom'; // Internal Dependencies\n\nimport { ROUTE_NAME } from '../../../routes/main.routing';\nimport WebService from '../../../services/WebService';\nimport { ACTIVE_TYPE } from '../../../config/constants';\nvar INITIAL_STATE = {\n  username: '',\n  password1: '',\n  password2: '',\n  verificationCode: '',\n  message: '',\n  messageColor: 'red',\n  showNewPasswordForm: false\n};\n\nvar ResetPassword =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ResetPassword, _React$Component);\n\n  function ResetPassword(props) {\n    var _this;\n\n    _classCallCheck(this, ResetPassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResetPassword).call(this, props));\n    _this.state = INITIAL_STATE;\n    return _this;\n  }\n\n  _createClass(ResetPassword, [{\n    key: \"handleEmailChange\",\n    value: function handleEmailChange(e) {\n      this.setState({\n        username: e.target.value\n      });\n    }\n  }, {\n    key: \"handlePassword1Change\",\n    value: function handlePassword1Change(e) {\n      this.setState({\n        password1: e.target.value\n      });\n    }\n  }, {\n    key: \"handlePassword2Change\",\n    value: function handlePassword2Change(e) {\n      this.setState({\n        password2: e.target.value\n      });\n    }\n  }, {\n    key: \"handleVerificationCodeChange\",\n    value: function handleVerificationCodeChange(e) {\n      this.setState({\n        verificationCode: e.target.value\n      });\n    }\n  }, {\n    key: \"handleReset\",\n    value: function handleReset($event) {\n      var _this2 = this;\n\n      $event.preventDefault();\n\n      if (this.state.username.length) {\n        WebService.resetPassword(this.state.username).then(function (res) {\n          var result = JSON.parse(res);\n\n          if (result.status === ACTIVE_TYPE.TRUE) {\n            _this2.setState({\n              message: 'Reset code has been sent to your email.',\n              messageColor: 'green',\n              showNewPasswordForm: true\n            });\n          } else {\n            _this2.setState({\n              message: \"Username is invalid\",\n              messageColor: 'red'\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleUpdateNewPassword\",\n    value: function handleUpdateNewPassword() {\n      var _this3 = this;\n\n      if (this.state.password1 !== this.state.password2) {\n        this.setState({\n          message: 'Passwords mismatch!',\n          messageColor: 'red'\n        });\n      } else if (this.state.verificationCode.length <= 0) {\n        this.setState({\n          message: 'Please enter verification code',\n          messageColor: 'red'\n        });\n      } else {\n        WebService.verifyEmailResetPassword(this.state.verificationCode, this.state.password1).then(function (res) {\n          var result = JSON.parse(res);\n\n          if (result.status === ACTIVE_TYPE.TRUE) {\n            _this3.setState({\n              message: 'Password changed! You can now login',\n              messageColor: 'green'\n            });\n          } else {\n            _this3.setState({\n              message: 'Verification code is incorrect!',\n              messageColor: 'red'\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        className: \"limiter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-login100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrap-login100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login100-pic js-tilt\",\n        \"data-tilt\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/img/img-01.png\",\n        alt: \"IMG\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), !this.state.showNewPasswordForm && React.createElement(\"form\", {\n        className: \"login100-form validate-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"login100-form-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Reset Password\"), React.createElement(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input100\",\n        type: \"text\",\n        placeholder: \"Username\",\n        autoComplete: \"off\",\n        onChange: function onChange(e) {\n          _this4.handleEmailChange(e);\n        },\n        value: this.state.username,\n        onKeyDown: function onKeyDown(e) {\n          return e.keyCode === 13 && _this4.handleReset(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"focus-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"symbol-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-envelope\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"d-flex justify-content-center\",\n        style: {\n          height: 20,\n          margin: 0,\n          textAlign: 'center',\n          color: this.state.messageColor\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, ' ' + this.state.message), React.createElement(\"div\", {\n        className: \"container-login100-form-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"login100-form-btn\",\n        onClick: function onClick(e) {\n          return _this4.handleReset(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Reset\")), React.createElement(\"div\", {\n        className: \"text-center p-t-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"txt1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: ROUTE_NAME.LOGIN,\n        className: \"txt2\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Login Again\")), React.createElement(\"div\", {\n        className: \"text-center p-t-136\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: ROUTE_NAME.REGISTER,\n        className: \"txt2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Create your Account\", React.createElement(\"i\", {\n        className: \"fa fa-long-arrow-right m-l-5\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      })))), this.state.showNewPasswordForm && React.createElement(\"form\", {\n        className: \"login100-form validate-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"login100-form-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Enter New Password\"), React.createElement(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input100\",\n        type: \"password\",\n        placeholder: \"Password\",\n        autoComplete: \"off\",\n        onChange: function onChange(e) {\n          _this4.handlePassword1Change(e);\n        },\n        value: this.state.password1,\n        onKeyDown: function onKeyDown(e) {\n          return e.keyCode === 13 && _this4.handlePassword1Change(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"focus-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"symbol-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-lock\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input100\",\n        type: \"password\",\n        placeholder: \"Password again\",\n        autoComplete: \"off\",\n        onChange: function onChange(e) {\n          _this4.handlePassword2Change(e);\n        },\n        value: this.state.password2,\n        onKeyDown: function onKeyDown(e) {\n          return e.keyCode === 13 && _this4.handlePassword2Change(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"focus-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"symbol-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-lock\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"wrap-input100 validate-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input100\",\n        type: \"text\",\n        placeholder: \"Verification Code\",\n        autoComplete: \"off\",\n        onChange: function onChange(e) {\n          _this4.handleVerificationCodeChange(e);\n        },\n        value: this.state.verificationCode,\n        onKeyDown: function onKeyDown(e) {\n          return e.keyCode === 13 && _this4.handlePassword2Change(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"focus-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"symbol-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-barcode\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"d-flex justify-content-center\",\n        style: {\n          height: 20,\n          margin: 0,\n          textAlign: 'center',\n          color: this.state.messageColor\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, ' ' + this.state.message), React.createElement(\"div\", {\n        className: \"container-login100-form-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"login100-form-btn\",\n        onClick: function onClick(e) {\n          return !_this4.state.showNewPasswordForm ? _this4.handleReset(e) : _this4.handleUpdateNewPassword();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, !this.state.showNewPasswordForm ? 'Reset' : 'Change')), React.createElement(\"div\", {\n        className: \"text-center p-t-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"txt1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: ROUTE_NAME.LOGIN,\n        className: \"txt2\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Login Again\")), React.createElement(\"div\", {\n        className: \"text-center p-t-136\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: ROUTE_NAME.REGISTER,\n        className: \"txt2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"Create your Account\", React.createElement(\"i\", {\n        className: \"fa fa-long-arrow-right m-l-5\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return ResetPassword;\n}(React.Component);\n\nResetPassword.propTypes = {// NONE\n};\nexport default ResetPassword;","map":{"version":3,"sources":["/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/src/pages/common/Auth/ResetPassword.jsx"],"names":["React","Link","ROUTE_NAME","WebService","ACTIVE_TYPE","INITIAL_STATE","username","password1","password2","verificationCode","message","messageColor","showNewPasswordForm","ResetPassword","props","state","e","setState","target","value","$event","preventDefault","length","resetPassword","then","res","result","JSON","parse","status","TRUE","verifyEmailResetPassword","handleEmailChange","keyCode","handleReset","height","margin","textAlign","color","LOGIN","REGISTER","handlePassword1Change","handlePassword2Change","handleVerificationCodeChange","handleUpdateNewPassword","Component","propTypes"],"mappings":"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","sourcesContent":["// External Dependencies\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\n// Internal Dependencies\nimport { ROUTE_NAME } from '../../../routes/main.routing';\nimport WebService from '../../../services/WebService';\nimport { ACTIVE_TYPE } from '../../../config/constants';\n\n\nconst INITIAL_STATE = {\n    username: '',\n    password1: '',\n    password2: '',\n    verificationCode: '',\n    message: '',\n    messageColor: 'red',\n    showNewPasswordForm: false\n}\n\nclass ResetPassword extends React.Component {\n    static propTypes = {\n        // NONE\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = INITIAL_STATE;\n    }\n\n    handleEmailChange(e) {\n        this.setState({\n            username: e.target.value\n        });\n    }\n\n    handlePassword1Change(e) {\n        this.setState({\n            password1: e.target.value\n        });\n    }\n\n    handlePassword2Change(e) {\n        this.setState({\n            password2: e.target.value\n        });\n    }\n\n    handleVerificationCodeChange(e) {\n        this.setState({\n            verificationCode: e.target.value\n        });\n    }\n\n    handleReset($event) {\n        $event.preventDefault();\n\n        if (this.state.username.length) {\n            WebService.resetPassword(this.state.username).then(res => {\n                const result = JSON.parse(res);\n\n                if (result.status === ACTIVE_TYPE.TRUE) {\n                    this.setState({\n                        message: 'Reset code has been sent to your email.',\n                        messageColor: 'green',\n                        showNewPasswordForm: true\n                    })\n                } else {\n                    this.setState({\n                        message: \"Username is invalid\",\n                        messageColor: 'red'\n                    })\n                }\n            })\n        }\n    }\n\n    handleUpdateNewPassword() {\n        if (this.state.password1 !== this.state.password2) {\n            this.setState({\n                message: 'Passwords mismatch!',\n                messageColor: 'red'\n            });\n        } else if (this.state.verificationCode.length <= 0) {\n            this.setState({\n                message: 'Please enter verification code',\n                messageColor: 'red'\n            });\n        } else {\n            WebService.verifyEmailResetPassword(this.state.verificationCode, this.state.password1).then(res => {\n                const result = JSON.parse(res);\n\n                if (result.status === ACTIVE_TYPE.TRUE) {                    \n                    this.setState({\n                        message: 'Password changed! You can now login',\n                        messageColor: 'green'\n                    });  \n                } else {\n                    this.setState({\n                        message: 'Verification code is incorrect!',\n                        messageColor: 'red'\n                    });\n                }\n                \n            })\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"limiter\">\n                <div className=\"container-login100\">\n                    <div className=\"wrap-login100\">\n                        <div className=\"login100-pic js-tilt\" data-tilt>\n                            <img src=\"/img/img-01.png\" alt=\"IMG\" />\n                        </div>\n\n                        {/* RESET FORM */}\n                        {\n                            !this.state.showNewPasswordForm &&\n                            <form className=\"login100-form validate-form\">\n                                <span className=\"login100-form-title\">Reset Password</span>\n\n                                <div className=\"wrap-input100 validate-input\">\n                                    <input className=\"input100\" type=\"text\" placeholder=\"Username\" autoComplete=\"off\"\n                                        onChange={(e) => { this.handleEmailChange(e) }}\n                                        value={this.state.username}\n                                        onKeyDown={(e) => e.keyCode === 13 && this.handleReset(e)}\n                                    />\n                                    <span className=\"focus-input100\"></span>\n                                    <span className=\"symbol-input100\">\n                                        <i className=\"fa fa-envelope\" aria-hidden=\"true\"></i>\n                                    </span>\n                                </div>\n\n                                <div className=\"d-flex justify-content-center\" style={{ height: 20, margin: 0, textAlign: 'center', color: this.state.messageColor }}>\n                                    {' ' + this.state.message}\n                                </div>\n\n                                <div className=\"container-login100-form-btn\">\n                                    <button type=\"button\" className=\"login100-form-btn\"\n                                        onClick={(e) => this.handleReset(e)}\n                                    >Reset</button>\n                                </div>\n\n                                <div className=\"text-center p-t-12\">\n                                    <span className=\"txt1\"></span>\n                                    <Link to={ROUTE_NAME.LOGIN} className=\"txt2\" href=\"/\">Login Again</Link>\n                                </div>\n\n                                <div className=\"text-center p-t-136\">\n                                    <Link to={ROUTE_NAME.REGISTER} className=\"txt2\" >\n                                        Create your Account\n                                <i className=\"fa fa-long-arrow-right m-l-5\" aria-hidden=\"true\"></i>\n                                    </Link>\n                                </div>\n                            </form>\n                        }\n\n\n                        {/* NEW PASSWORD FORM */}\n                        {\n                            this.state.showNewPasswordForm &&\n                            <form className=\"login100-form validate-form\">\n                                <span className=\"login100-form-title\">Enter New Password</span>\n\n                                <div className=\"wrap-input100 validate-input\">\n                                    <input className=\"input100\" type=\"password\" placeholder=\"Password\" autoComplete=\"off\"\n                                        onChange={(e) => { this.handlePassword1Change(e) }}\n                                        value={this.state.password1}\n                                        onKeyDown={(e) => e.keyCode === 13 && this.handlePassword1Change(e)}\n                                    />\n                                    <span className=\"focus-input100\"></span>\n                                    <span className=\"symbol-input100\">\n                                        <i className=\"fa fa-lock\" aria-hidden=\"true\"></i>\n                                    </span>\n                                </div>\n\n                                <div className=\"wrap-input100 validate-input\">\n                                    <input className=\"input100\" type=\"password\" placeholder=\"Password again\" autoComplete=\"off\"\n                                        onChange={(e) => { this.handlePassword2Change(e) }}\n                                        value={this.state.password2}\n                                        onKeyDown={(e) => e.keyCode === 13 && this.handlePassword2Change(e)}\n                                    />\n                                    <span className=\"focus-input100\"></span>\n                                    <span className=\"symbol-input100\">\n                                        <i className=\"fa fa-lock\" aria-hidden=\"true\"></i>\n                                    </span>\n                                </div>\n\n                                <div className=\"wrap-input100 validate-input\">\n                                    <input className=\"input100\" type=\"text\" placeholder=\"Verification Code\" autoComplete=\"off\"\n                                        onChange={(e) => { this.handleVerificationCodeChange(e) }}\n                                        value={this.state.verificationCode}\n                                        onKeyDown={(e) => e.keyCode === 13 && this.handlePassword2Change(e)}\n                                    />\n                                    <span className=\"focus-input100\"></span>\n                                    <span className=\"symbol-input100\">\n                                        <i className=\"fa fa-barcode\" aria-hidden=\"true\"></i>\n                                    </span>\n                                </div>\n\n                                <div className=\"d-flex justify-content-center\" style={{ height: 20, margin: 0, textAlign: 'center', color: this.state.messageColor }}>\n                                    {' ' + this.state.message}\n                                </div>\n\n                                <div className=\"container-login100-form-btn\">\n                                    <button type=\"button\" className=\"login100-form-btn\"\n                                        onClick={(e) => (!this.state.showNewPasswordForm ? this.handleReset(e) : this.handleUpdateNewPassword())}\n                                    >{!this.state.showNewPasswordForm ? 'Reset' : 'Change'}</button>\n                                </div>\n\n                                <div className=\"text-center p-t-12\">\n                                    <span className=\"txt1\"></span>\n                                    <Link to={ROUTE_NAME.LOGIN} className=\"txt2\" href=\"/\">Login Again</Link>\n                                </div>\n\n                                <div className=\"text-center p-t-136\">\n                                    <Link to={ROUTE_NAME.REGISTER} className=\"txt2\" >\n                                        Create your Account\n                                <i className=\"fa fa-long-arrow-right m-l-5\" aria-hidden=\"true\"></i>\n                                    </Link>\n                                </div>\n                            </form>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ResetPassword;\n"]},"metadata":{},"sourceType":"module"}