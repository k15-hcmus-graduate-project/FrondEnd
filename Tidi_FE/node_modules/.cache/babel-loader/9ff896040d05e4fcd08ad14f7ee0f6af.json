{"ast":null,"code":"import _regeneratorRuntime from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/src/pages/products/ProductDetail/ProductDetail.jsx\";\n// StyleSheets\nimport React, { Component } from \"react\";\nimport _ from \"lodash\";\nimport PropTypes from \"prop-types\";\nimport { FacebookProvider, Comments } from \"react-facebook\";\nimport \"./ProductDetail.scss\";\nimport WebService from \"../../../services/WebService\";\nimport AuthService from \"../../../services/AuthService\";\nimport { showAlert } from \"../../../helpers/lib\";\nimport { withCommas } from \"../../../helpers/lib\";\nimport Loader from \"../../common/Loader/Loader\";\nimport { Parse, client } from \"../../../helpers/parse\";\nvar INTITIAL_STATE = {\n  product: null,\n  productFound: false,\n  numberOfViewer: 0,\n  refresh: true\n};\n\nvar ProductDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductDetail, _Component);\n\n  function ProductDetail(props) {\n    var _this;\n\n    _classCallCheck(this, ProductDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductDetail).call(this, props));\n\n    _this.componentWillMount = function () {\n      _this.fetchProduct();\n    };\n\n    _this.componentWillUpdate = function (nextProps) {\n      if (nextProps.match.params.id !== _this.props.match.params.id) {\n        _this.fetchProduct();\n      }\n    };\n\n    _this.doSomethingBeforeUnload =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return WebService.descViewer(_this.state.product.id).then(function (res) {\n                console.log(\"descrease viewer successful\");\n                client.unsubscribe(_this.subscription);\n              }).catch(function (err) {\n                console.log(\"cannot query from back4app: \", err);\n                client.unsubscribe(_this.subscription);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.setupBeforeUnloadListener = function () {\n      window.addEventListener(\"beforeunload\",\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2(ev) {\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  console.log(\"decrease view props after change in before unload listener: \", _this.props.decreaseViewer);\n                  ev.preventDefault();\n                  _context2.next = 4;\n                  return _this.doSomethingBeforeUnload();\n\n                case 4:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    };\n\n    _this.componentDidMount = function () {\n      var parseQuery = new Parse.Query(\"product\");\n      _this.subscription = client.subscribe(parseQuery);\n      var id = _this.props.match.params.id;\n\n      _this.subscription.on(\"update\", function (object) {\n        if (object.id === id) {\n          _this.setState({\n            numberOfViewer: object.get(\"viewer\")\n          });\n\n          console.log(\"The number of people watching this product: \", _this.state.numberOfViewer);\n        }\n      }); // Activate the event listener\n\n\n      _this.setupBeforeUnloadListener();\n    };\n\n    _this.componentWillUnmount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return WebService.descViewer(_this.state.product.id).then(function (res) {\n                console.log(\"descrease viewer successful\");\n                client.unsubscribe(_this.subscription);\n              }).catch(function (err) {\n                console.log(\"cannot query from back4app: \", err);\n                client.unsubscribe(_this.subscription);\n              });\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    _this.fetchProduct = function () {\n      var productId = Number(_this.props.match.params.id);\n\n      if (!isNaN(productId) && productId > 0) {\n        WebService.getProduct(productId).then(function (res) {\n          var product = JSON.parse(res);\n\n          if (product.status !== 500) {\n            product.images = JSON.parse(product.images);\n\n            _this.setState({\n              product: product,\n              productFound: true\n            });\n          } else {\n            console.log(product);\n          }\n        });\n      }\n    };\n\n    _this.fetchCartProducts = function () {\n      var isLoggedIn = _this.props.isLoggedIn;\n\n      if (isLoggedIn) {\n        WebService.getCart(AuthService.getTokenUnsafe()).then(function (res) {\n          var result = JSON.parse(res);\n\n          if (result.status.status === \"TRUE\") {\n            if (result.products) {\n              result.products.forEach(function (prd) {\n                return prd.images = JSON.parse(prd.images);\n              });\n            }\n\n            _this.props.updateCartProducts(result.products);\n          }\n        });\n      }\n    };\n\n    _this.handleAddProductToCart = function (product) {\n      var _this$props = _this.props,\n          isLoggedIn = _this$props.isLoggedIn,\n          cart = _this$props.cart;\n\n      if (isLoggedIn) {\n        var currentCartItems = cart.products;\n\n        if (product.id) {\n          var cartItemAmount = 0;\n\n          if (currentCartItems) {\n            //  no-unused-vars\n            _.map(currentCartItems, function (cartItem) {\n              if (cartItem.id === product.id) {\n                cartItemAmount = cartItem.amount;\n              }\n            });\n          }\n\n          cartItemAmount += 1;\n          WebService.addItemToCart(AuthService.getTokenUnsafe(), product.id, cartItemAmount).then(function (r) {\n            var res = JSON.parse(r);\n\n            if (res.status) {\n              showAlert(\"Added \".concat(product.productName, \" to Cart!\"));\n\n              _this.fetchCartProducts();\n            }\n          });\n        }\n      } else {\n        showAlert(\"You have not logged in yet\", \"error\");\n      }\n    };\n\n    _this.generatePictures = function () {\n      var r = [];\n      var images = _this.state.product.images;\n\n      if (images) {\n        images.forEach(function (imageURL, index) {\n          r.push(React.createElement(\"div\", {\n            key: index,\n            className: \"carousel-item\" + (index === 0 ? \" active\" : \"\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"d-block w-100\",\n            src: imageURL,\n            alt: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168\n            },\n            __self: this\n          })));\n        });\n      }\n\n      return r;\n    };\n\n    _this.render = function () {\n      var _this$state = _this.state,\n          productFound = _this$state.productFound,\n          product = _this$state.product,\n          numberOfViewer = _this$state.numberOfViewer;\n\n      if (!productFound || !product) {\n        console.log(\"loading\"); // return <div className=\"d-flex justify-content-center p-5\">Product not found</div>;\n      } else if (Object.keys(product).length === 0) {\n        return React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        });\n      } else {\n        var discountedPercent = Math.round(product.discPercent * 100);\n        var discountedPrice = Math.round(product.price - product.price * product.discPercent);\n        var listdescription = product.description.split(\"\\n\");\n        var listDescription = [];\n\n        for (var j = 0; j < listdescription.length; j++) {\n          listDescription[j] = React.createElement(\"p\", {\n            key: j,\n            className: \"product-desc\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }, listdescription[j]);\n        }\n\n        return React.createElement(\"div\", {\n          className: \"single_product_details_area d-flex align-items-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, !_this.state.product && React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          id: \"images-slider\",\n          className: \"single_product_thumb carousel slide\",\n          \"data-ride\": \"carousel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"carousel-inner\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, _this.generatePictures()), React.createElement(\"a\", {\n          className: \"carousel-control-prev owl-prev\",\n          href: \"#images-slider\",\n          role: \"button\",\n          \"data-slide\": \"prev\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"fa fa-chevron-circle-left fa-5x\",\n          \"aria-hidden\": \"false\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, \"Previous\")), React.createElement(\"a\", {\n          className: \"carousel-control-next owl-next\",\n          href: \"#images-slider\",\n          role: \"button\",\n          \"data-slide\": \"next\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"fa fa-chevron-circle-right fa-5x\",\n          \"aria-hidden\": \"false\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, \"Next\"))), React.createElement(\"div\", {\n          className: \"single_product_desc clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, numberOfViewer !== 0 && React.createElement(\"div\", {\n          className: \"d-flex justify-content-center p-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, \"There has \", numberOfViewer, \" users watching this product with you.\"), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, product.brand && product.brand[0].brand_name), React.createElement(\"a\", {\n          href: \"cart.html\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, product.product_name)), React.createElement(\"p\", {\n          className: \"product-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, product.discPercent !== 0 && React.createElement(\"span\", {\n          className: \"old-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, withCommas(product.price) + \" ₫\"), withCommas(discountedPrice) + \" ₫  \", discountedPercent ? \"(-\" + discountedPercent + \"%)\" : null), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, listDescription), React.createElement(\"form\", {\n          className: \"cart-form clearfix\",\n          method: \"post\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cart-fav-box d-flex align-items-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          name: \"addtocart\",\n          className: \"btn essence-btn\",\n          onClick: function onClick() {\n            return _this.handleAddProductToCart(product);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \"Add to cart\"), React.createElement(\"div\", {\n          className: \"product-favourite ml-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#/\",\n          className: \"favme fa fa-heart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        })))), React.createElement(\"div\", {\n          className: \"cart-fav-box d-flex align-items-center justify-content-end\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        }, product.category && product.category[0].category_name)))), React.createElement(\"div\", {\n          className: \"full-description-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, product.description)), React.createElement(\"div\", {\n          className: \"fb-comment-plugin-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, React.createElement(FacebookProvider, {\n          appId: \"486326855227569\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, React.createElement(Comments, {\n          href: \"https://tidi-binpossible49.c9users.io\" + _this.props.location.pathname,\n          className: \"kdjf\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }))));\n      }\n    };\n\n    _this.state = INTITIAL_STATE;\n    return _this;\n  }\n\n  return ProductDetail;\n}(Component);\n\nProductDetail.propTypes = {\n  isLoggedIn: PropTypes.bool,\n  updateCartProducts: PropTypes.func,\n  cart: PropTypes.shape({\n    products: PropTypes.array\n  }),\n  decreaseViewer: PropTypes.bool,\n  descreaseViewAct: PropTypes.func\n};\nexport default ProductDetail;","map":{"version":3,"sources":["/Users/lap12548/Documents/hcmus/TOTNGHIEP/GITHUB/FrondEnd/Tidi_FE/src/pages/products/ProductDetail/ProductDetail.jsx"],"names":["React","Component","_","PropTypes","FacebookProvider","Comments","WebService","AuthService","showAlert","withCommas","Loader","Parse","client","INTITIAL_STATE","product","productFound","numberOfViewer","refresh","ProductDetail","props","componentWillMount","fetchProduct","componentWillUpdate","nextProps","match","params","id","doSomethingBeforeUnload","descViewer","state","then","res","console","log","unsubscribe","subscription","catch","err","setupBeforeUnloadListener","window","addEventListener","ev","decreaseViewer","preventDefault","componentDidMount","parseQuery","Query","subscribe","on","object","setState","get","componentWillUnmount","productId","Number","isNaN","getProduct","JSON","parse","status","images","fetchCartProducts","isLoggedIn","getCart","getTokenUnsafe","result","products","forEach","prd","updateCartProducts","handleAddProductToCart","cart","currentCartItems","cartItemAmount","map","cartItem","amount","addItemToCart","r","productName","generatePictures","imageURL","index","push","render","Object","keys","length","discountedPercent","Math","round","discPercent","discountedPrice","price","listdescription","description","split","listDescription","j","brand","brand_name","product_name","category","category_name","location","pathname","propTypes","bool","func","shape","array","descreaseViewAct"],"mappings":"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","sourcesContent":["// StyleSheets\nimport React, { Component } from \"react\";\nimport _ from \"lodash\";\nimport PropTypes from \"prop-types\";\nimport { FacebookProvider, Comments } from \"react-facebook\";\nimport \"./ProductDetail.scss\";\nimport WebService from \"../../../services/WebService\";\nimport AuthService from \"../../../services/AuthService\";\nimport { showAlert } from \"../../../helpers/lib\";\nimport { withCommas } from \"../../../helpers/lib\";\nimport Loader from \"../../common/Loader/Loader\";\nimport { Parse, client } from \"../../../helpers/parse\";\n\nconst INTITIAL_STATE = {\n    product: null,\n    productFound: false,\n    numberOfViewer: 0,\n    refresh: true\n};\n\nclass ProductDetail extends Component {\n    subscription;\n\n    static propTypes = {\n        isLoggedIn: PropTypes.bool,\n        updateCartProducts: PropTypes.func,\n        cart: PropTypes.shape({\n            products: PropTypes.array\n        }),\n        decreaseViewer: PropTypes.bool,\n        descreaseViewAct: PropTypes.func\n    };\n\n    constructor(props: any) {\n        super(props);\n        this.state = INTITIAL_STATE;\n    }\n\n    componentWillMount = () => {\n        this.fetchProduct();\n    };\n\n    componentWillUpdate = nextProps => {\n        if (nextProps.match.params.id !== this.props.match.params.id) {\n            this.fetchProduct();\n        }\n    };\n\n    doSomethingBeforeUnload = async () => {\n        await WebService.descViewer(this.state.product.id)\n            .then(res => {\n                console.log(\"descrease viewer successful\");\n                client.unsubscribe(this.subscription);\n            })\n            .catch(err => {\n                console.log(\"cannot query from back4app: \", err);\n                client.unsubscribe(this.subscription);\n            });\n    };\n\n    // Setup the `beforeunload` event listener\n    setupBeforeUnloadListener = () => {\n        window.addEventListener(\"beforeunload\", async ev => {\n            console.log(\"decrease view props after change in before unload listener: \", this.props.decreaseViewer);\n            ev.preventDefault();\n            await this.doSomethingBeforeUnload();\n        });\n    };\n\n    // phuong thuc auto thuc hiẹn sau khi page duoc load len\n    componentDidMount = () => {\n        var parseQuery = new Parse.Query(\"product\");\n        this.subscription = client.subscribe(parseQuery);\n        const { id } = this.props.match.params;\n        this.subscription.on(\"update\", object => {\n            if (object.id === id) {\n                this.setState({\n                    numberOfViewer: object.get(\"viewer\")\n                });\n                console.log(\"The number of people watching this product: \", this.state.numberOfViewer);\n            }\n        });\n\n        // Activate the event listener\n        this.setupBeforeUnloadListener();\n    };\n\n    componentWillUnmount = async () => {\n        await WebService.descViewer(this.state.product.id)\n            .then(res => {\n                console.log(\"descrease viewer successful\");\n                client.unsubscribe(this.subscription);\n            })\n            .catch(err => {\n                console.log(\"cannot query from back4app: \", err);\n                client.unsubscribe(this.subscription);\n            });\n    };\n\n    fetchProduct = () => {\n        const productId = Number(this.props.match.params.id);\n        if (!isNaN(productId) && productId > 0) {\n            WebService.getProduct(productId).then(res => {\n                const product = JSON.parse(res);\n                if (product.status !== 500) {\n                    product.images = JSON.parse(product.images);\n                    this.setState({\n                        product,\n                        productFound: true\n                    });\n                } else {\n                    console.log(product);\n                }\n            });\n        }\n    };\n\n    fetchCartProducts = () => {\n        const { isLoggedIn } = this.props;\n        if (isLoggedIn) {\n            WebService.getCart(AuthService.getTokenUnsafe()).then(res => {\n                const result = JSON.parse(res);\n                if (result.status.status === \"TRUE\") {\n                    if (result.products) {\n                        result.products.forEach(prd => (prd.images = JSON.parse(prd.images)));\n                    }\n                    this.props.updateCartProducts(result.products);\n                }\n            });\n        }\n    };\n\n    handleAddProductToCart = (product: any) => {\n        const { isLoggedIn, cart } = this.props;\n        if (isLoggedIn) {\n            const currentCartItems = cart.products;\n            if (product.id) {\n                let cartItemAmount = 0;\n                if (currentCartItems) {\n                    //  no-unused-vars\n                    _.map(currentCartItems, cartItem => {\n                        if (cartItem.id === product.id) {\n                            cartItemAmount = cartItem.amount;\n                        }\n                    });\n                }\n                cartItemAmount += 1;\n                WebService.addItemToCart(AuthService.getTokenUnsafe(), product.id, cartItemAmount).then(r => {\n                    const res = JSON.parse(r);\n                    if (res.status) {\n                        showAlert(`Added ${product.productName} to Cart!`);\n                        this.fetchCartProducts();\n                    }\n                });\n            }\n        } else {\n            showAlert(\"You have not logged in yet\", \"error\");\n        }\n    };\n\n    generatePictures = () => {\n        let r = [];\n        const { images } = this.state.product;\n        if (images) {\n            images.forEach((imageURL, index) => {\n                r.push(\n                    <div key={index} className={\"carousel-item\" + (index === 0 ? \" active\" : \"\")}>\n                        <img className=\"d-block w-100\" src={imageURL} alt=\"\" />\n                    </div>\n                );\n            });\n        }\n\n        return r;\n    };\n\n    render = () => {\n        const { productFound, product, numberOfViewer } = this.state;\n        if (!productFound || !product) {\n            console.log(\"loading\");\n            // return <div className=\"d-flex justify-content-center p-5\">Product not found</div>;\n        } else if (Object.keys(product).length === 0) {\n            return <Loader />;\n        } else {\n            const discountedPercent = Math.round(product.discPercent * 100);\n            const discountedPrice = Math.round(product.price - product.price * product.discPercent);\n            const listdescription = product.description.split(\"\\n\");\n            const listDescription = [];\n            for (var j = 0; j < listdescription.length; j++) {\n                listDescription[j] = (\n                    <p key={j} className=\"product-desc\">\n                        {listdescription[j]}\n                    </p>\n                );\n            }\n            return (\n                <div className=\"single_product_details_area d-flex align-items-center\">\n                    {!this.state.product && <Loader />}\n                    <div id=\"images-slider\" className=\"single_product_thumb carousel slide\" data-ride=\"carousel\">\n                        <div className=\"carousel-inner\">{this.generatePictures()}</div>\n                        <a className=\"carousel-control-prev owl-prev\" href=\"#images-slider\" role=\"button\" data-slide=\"prev\">\n                            <span className=\"fa fa-chevron-circle-left fa-5x\" aria-hidden=\"false\" />\n                            <span className=\"sr-only\">Previous</span>\n                        </a>\n                        <a className=\"carousel-control-next owl-next\" href=\"#images-slider\" role=\"button\" data-slide=\"next\">\n                            <span className=\"fa fa-chevron-circle-right fa-5x\" aria-hidden=\"false\" />\n                            <span className=\"sr-only\">Next</span>\n                        </a>\n                    </div>\n\n                    {/* <!-- Single Product Description --> */}\n                    <div className=\"single_product_desc clearfix\">\n                        {numberOfViewer !== 0 && (\n                            <div className=\"d-flex justify-content-center p-5\">\n                                There has {numberOfViewer} users watching this product with you.\n                            </div>\n                        )}\n                        <span>{product.brand && product.brand[0].brand_name}</span>\n                        <a href=\"cart.html\">\n                            <h2>{product.product_name}</h2>\n                        </a>\n                        <p className=\"product-price\">\n                            {product.discPercent !== 0 && <span className=\"old-price\">{withCommas(product.price) + \" ₫\"}</span>}\n                            {withCommas(discountedPrice) + \" ₫  \"}\n                            {discountedPercent ? \"(-\" + discountedPercent + \"%)\" : null}\n                        </p>\n                        <h4>{listDescription}</h4>\n                        {/* <!-- Form --> */}\n                        <form className=\"cart-form clearfix\" method=\"post\">\n                            {/* <!-- Cart & Favourite Box --> */}\n                            <div className=\"cart-fav-box d-flex align-items-center\">\n                                {/* <!-- Cart --> */}\n                                <button\n                                    type=\"button\"\n                                    name=\"addtocart\"\n                                    className=\"btn essence-btn\"\n                                    onClick={() => this.handleAddProductToCart(product)}\n                                >\n                                    Add to cart\n                                </button>\n                                {/* <!-- Favourite --> */}\n                                <div className=\"product-favourite ml-4\">\n                                    <a href=\"#/\" className=\"favme fa fa-heart\">\n                                        <span />\n                                    </a>\n                                </div>\n                            </div>\n\n                            <div className=\"cart-fav-box d-flex align-items-center justify-content-end\">\n                                <a href=\"/\">{product.category && product.category[0].category_name}</a>\n                            </div>\n                        </form>\n                    </div>\n\n                    {/* PRODUCT FULL DESCRIPTION */}\n                    <div className=\"full-description-container\">\n                        <div className=\"container\">{product.description}</div>\n                    </div>\n\n                    <div className=\"fb-comment-plugin-container\">\n                        <FacebookProvider appId=\"486326855227569\">\n                            <Comments href={\"https://tidi-binpossible49.c9users.io\" + this.props.location.pathname} className=\"kdjf\" />\n                        </FacebookProvider>\n                    </div>\n                </div>\n            );\n        }\n    };\n}\n\nexport default ProductDetail;\n"]},"metadata":{},"sourceType":"module"}